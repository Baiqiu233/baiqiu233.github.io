<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Frp</title>
    <link href="/2025/10/14/Frp/"/>
    <url>/2025/10/14/Frp/</url>
    
    <content type="html"><![CDATA[<p>[TOC]</p><h3 id="Frp的应用"><a href="#Frp的应用" class="headerlink" title="Frp的应用"></a>Frp的应用</h3><ol><li>暴露内网服务</li><li>游戏联机</li></ol><h3 id="Frp的安装与配置"><a href="#Frp的安装与配置" class="headerlink" title="Frp的安装与配置"></a>Frp的安装与配置</h3><h4 id="Frp前提条件"><a href="#Frp前提条件" class="headerlink" title="Frp前提条件"></a>Frp前提条件</h4><ol><li>具有公网ip的云服务器（无需高配）</li><li>一定的动手能力</li></ol><h4 id="Frp的下载"><a href="#Frp的下载" class="headerlink" title="Frp的下载"></a>Frp的下载</h4><p>​Github：<a href="https://github.com/fatedier/frp/releases">Frp-releases</a>选择对应的系统版本下载</p><h4 id="Frp的安装"><a href="#Frp的安装" class="headerlink" title="Frp的安装"></a>Frp的安装</h4><ol><li>将下载的文件解压，其中frpc为客户端，frps为服务端，toml后缀的为配置文件</li></ol><p><img src="/./!%5B%5D(https:/blogofi.oss-cn-beijing.aliyuncs.com/img/1.png)"></p><ol start="2"><li><p>编辑配置文件</p><p>​&#x3D;&#x3D;服务端&#x3D;&#x3D;</p></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">[common]<br>bind_port = <span class="hljs-number">7300</span>                          <span class="hljs-comment">#监听端口</span><br>bind_addr = <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span> <span class="hljs-comment">#监听地址</span><br>token = <span class="hljs-number">12345678</span><span class="hljs-comment">#身份验证</span><br>allow_ports = <span class="hljs-number">55000</span>-<span class="hljs-number">57000</span>,<span class="hljs-number">4353</span>,<span class="hljs-number">8560</span>       <span class="hljs-comment">#开放端口</span><br>dashboard_port = <span class="hljs-number">7340</span><span class="hljs-comment">#网页管理端口</span><br>dashboard_user = username<span class="hljs-comment">#网页管理账号</span><br>dashboard_pwd = password<span class="hljs-comment">#网页管理密码</span><br></code></pre></td></tr></table></figure><p>​&#x3D;&#x3D;客户端&#x3D;&#x3D;</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python">[common]<br>server_addr = your_remote_address            <span class="hljs-comment">#云服务器IP</span><br>server_port = <span class="hljs-number">8760</span> <span class="hljs-comment">#服务器的监听端口</span><br>token = <span class="hljs-number">12345678</span> <span class="hljs-comment">#与云服务器的保持相同</span><br><br>[moonlight-tcp-<span class="hljs-number">1</span>]  <span class="hljs-comment">#TCP转发</span><br><span class="hljs-built_in">type</span> = tcp<br>local_ip = <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><br>local_port = <span class="hljs-number">47234</span><br>remote_port = <span class="hljs-number">47234</span><br><br>[moonlight-udp-<span class="hljs-number">1</span>] <span class="hljs-comment">#UDP转发</span><br><span class="hljs-built_in">type</span> = udp<br>local_ip = <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><br>local_port = <span class="hljs-number">2343</span><br>remote_port = <span class="hljs-number">2343</span><br></code></pre></td></tr></table></figure><ol start="3"><li>将服务器所需文件上传至云服务器</li></ol><p>​ssh链接云服务器：<code>ssh username@IP</code></p><p>​上传所需文件：<code>scp local_file_addr username@IP:remote_file_addr</code></p><p>​远程服务器下载文件：<code>scp username@IP:remote_file_addr local_file_addr</code></p><ol start="4"><li><p>启动Frp</p><p>​服务器启动Frp（centos）：<code>./frps -c frps.toml</code></p><p>​客户端启动Frp（windows）：<code>frpc.exe -c frpc.toml</code></p><p>​其他命令：</p><p>​挂起服务（后台）：<code>nohup ./frps -c frps.toml &amp;</code></p><p>​查看进程：<code>ps aux</code></p><p>​杀死进程：<code>kill -9 PID</code></p></li></ol><h4 id="Frp的开机自启动"><a href="#Frp的开机自启动" class="headerlink" title="Frp的开机自启动"></a>Frp的开机自启动</h4><ol><li>在 &#x2F;etc&#x2F;systemd&#x2F;system 目录下创建一个 frps.service 文件，用于配置 frps 服务<br><code>vim /etc/systemd/system/frps.service</code></li><li>配置文件如下<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[Unit]</span><br><span class="hljs-comment"># 服务名称，可自定义</span><br><span class="hljs-attr">Description</span> = frp server<br><span class="hljs-attr">After</span> = network.target syslog.target<br><span class="hljs-attr">Wants</span> = network.target<br><br><span class="hljs-section">[Service]</span><br><span class="hljs-attr">Type</span> = simple<br><span class="hljs-comment"># 启动frps的命令，需修改为您的frps的安装路径</span><br><span class="hljs-attr">ExecStart</span> = /path/to/frps -c /path/to/frps.toml<br><br><span class="hljs-section">[Install]</span><br><span class="hljs-attr">WantedBy</span> = multi-user.target<br></code></pre></td></tr></table></figure></li></ol><h4 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h4><ol start="3"><li>以上提到的远程端口均需在服务器防火墙放行</li></ol><hr>]]></content>
    
    
    
    <tags>
      
      <tag>Frp</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
